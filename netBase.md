
## 互联网

互联网，就是全世界有很多服务器(专门提供服务的计算机)对外提供服务，我们的计算机(包括手机)可以访问这些服务。服务器之间还可以互相提供服务。这样形成的一个巨大的网络。

用浏览器看到的网页，有个特点，就是网页上有很多可以点击的链接，这就是www协议(World Wide Web)。www本质上是存在链接的文本，即超文本(hyperlink text)，超文本体现了我们后来使用的网站/网页的本质，每个网页的文本中都存在超链接(hyperlink)，使我们在看文章时，对有兴趣的内容可以点击超链接来看它的相关内容。www将网络上不同的服务器提供的服务连接在一起，形成一个全球性的大网络，就是互联网，同时将这海量服务器的信息也连接成一个巨大的网络体，使我们面前的信息不再是孤立的，而是一个巨大的信息体，我们可以在这个巨大的信息海洋中傲游。

访问网站的网页，所用的软件是浏览器，就是前面提到的Google Chrome或Firefox等，浏览器向服务器发出www协议的请求，服务器收到请求响应对应的数据，这些数据符合html格式，浏览器接收到这个数据，渲染成页面显示给我们。

怎么选择访问哪个服务器呢？每个服务器(以及每个客户端)都有一个编号，称为IP(Internet Protocol)地址，是4个字节表示，如(10进制表示为)：123.25.44.12，这样的IP地址是ipv4，可以算出来这最多表示$2^{32}$个，但实际可用的地址比这小得多，现在已经启用ipv6，位数多了很多，可以让地球上每粒砂子都拥有一个ip地址。

IP地址表示一台计算机，那么同一台服务器如果提供多个服务(或者同一台客户机访问多个服务)怎么办？IP协议中还定义了一个数称为端口(Port)，用2个字节表示，所以同一台服务器最多可以提供65535个服务，要访问一台计算机上的某个服务，客户机需要请求ip和端口。在IP协议中，一些常见的服务已经定义了标准端口，所以访问标准端口的服务服务无需提供端口，但实际请求程序会把标准端口补上，比如：http/80，https/443, ssh/22, ftp/21 等等。我们一般访问网站www就是http协议80端口，但在google等公司的推动下，http基本已经被加密的https协议替代，目前几乎所有网站都使用https协议。

用数字的ip地址访问网站难以记忆，就像手机里的通信录，让你记电话号码太难了，但用通信录的名字就容易很多，所以DNS(Domain Name Service)就用于将服务器名字解析为IP地址，www.google.com中，google.com称为域名(Domain Name)，归google公司所有，是域名管理机构发的; www是服务器名，是google自己定义的。在浏览器上输入 www.google.com，浏览器首先请求dns服务器得到IP地址，再将URL发给这个ip的443端口请求服务，得到响应的网页。

一个www服务器不止提供一个页面，直接访问https://www.google.com 得到的是首页，首页上的链接或搜索引导我们到另一个页面，这个页面就不止是服务器名了，在后面还有内容，这整个地址称为URL（Uniform Resoure Locator）。本页的URL是 http://test64.duckdns.org:6780/Pub/Daniel ，用http协议访问test64.duckdns.org的6780端口的/Pub/Daniel页面，由于使用的是非标准端口，所以要把端口号加上。 

以是否有服务器提供服务区分，应用程序可以分为两类，一类是本地程序，无需服务器支持，另一类是C/S程序(Client/Server)，需要服务器支持，目前很多程序都需要服务器支持，例如微信、网游。不过即使是本地程序，一般也会带有网络支持的功能，比如自动升级、使用情况统计等，完全不联网的软件很少了。但随着www服务的发展，网站提供的不仅仅是网页了，C/S程序的功能靠浏览器里的动态网页就能完成，因此形成了一大类应用称为B/S程序(Browser/Server)。本系统的支撑程序wiki.js就是一个B/S程序，B/S程序的好处是无需安装客户端程序，自然也无需升级客户端程序，服务器端一升级，系统就完成升级了。

## 局域网

与互联网相对的，就是本地的局域网，比如家用wifi路由器下连接的所有计算机和手机，就形成一个局域网，可以用其中一台计算机作为服务器，把家里的通用服务放在服务器上，比如照片存档和共享、电影下载和共享等等。局域网中使用的ip地址是早已定义给内部网使用的网段(10.x.x.x/24、172.16.x.x/16、192.168.x.x/8)，通过路由器NAT(Netword Address Translation)，在路由器的外口，访问源地址被转换成运营商分配的外网地址，这个地址是运营商范围内的用户共享的(数量一般少于用户数)、动态分配的、时常在变的，因此不可能被标准的dns所解析，因此后来出现的DDNS(Dynamic DNS)服务，服务于这个场合。本站用的 [test64.duckdns.org](http://test64.duckdns.org:6780) 就是使用了 duckdns.org 提供的DDNS服务，本站只需要定时给 duckdns.org 发送更新请求，它就总能得到本站的外网ip，以便你能通过test64访问到它。但国内运营商一般封了80/443等常用服务，所以只能用非标端口，无法作为正式网站发布。



